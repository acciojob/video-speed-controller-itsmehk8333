<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Custom Video Player</title>
  <style>
    /* Basic styling inspired by common custom video players */
    :root {
      --player-bg: #222;
      --control-bg: #333;
      --accent: #ff6b6b;
      --text: #fff;
    }

    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg,#1f1f1f,#121212);
      color: var(--text);
      font-family: Arial, Helvetica, sans-serif;
    }

    .player {
      max-width: 800px;
      width: 90%;
      background: var(--player-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    }

    video {
      width: 100%;
      display: block;
      background: black;
      cursor: pointer;
    }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding: 12px;
      background: var(--control-bg);
    }

    .progress {
      position: relative;
      height: 10px;
      background: #555;
      border-radius: 6px;
      overflow: hidden;
      cursor: pointer;
    }

    .progress__filled {
      width: 0%;
      background: var(--accent);
      height: 100%;
      transform-origin: left center;
      transition: width 0.08s linear;
    }

    .control-row {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .player__button {
      background: transparent;
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.08);
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      user-select: none;
    }

    .player__button:hover {
      background: rgba(255,255,255,0.03);
    }

    .slider {
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      border-radius: 6px;
      background: #666;
      outline: none;
      cursor: pointer;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--accent);
      border: 2px solid rgba(255,255,255,0.9);
    }

    .label {
      font-size: 13px;
      color: #ddd;
    }

    .spacer { flex: 1; }

    /* small screens */
    @media (max-width:520px) {
      .player__button { padding: 6px 10px; font-size: 14px; }
    }
  </style>
</head>
<body>
  <div class="player" id="player">
    <!-- Video element (click toggles play/pause) -->
    <video id="video" src="https://www.w3schools.com/html/mov_bbb.mp4" preload="metadata"></video>

    <!-- Controls -->
    <div class="controls">
      <!-- Progress bar -->
      <div class="progress" id="progress">
        <div class="progress__filled" id="progressFilled" style="width:0%"></div>
      </div>

      <!-- Row of controls -->
      <div class="control-row">
        <!-- Play / Pause -->
        <button class="player__button" id="toggle" title="Play/Pause">►</button>

        <!-- Skip back 10s -->
        <button class="player__button" data-skip="-10" id="skipBack">« 10s</button>

        <!-- Skip forward 25s -->
        <button class="player__button" data-skip="25" id="skipFwd">25s »</button>

        <!-- Volume -->
        <label class="label" for="volume">Volume</label>
        <input class="slider" id="volume" type="range" min="0" max="1" step="0.01" value="1" style="width:110px">

        <!-- Playback speed -->
        <label class="label" for="playbackRate">Speed</label>
        <input class="slider" id="playbackRate" type="range" min="0.25" max="2" step="0.05" value="1" style="width:120px">

        <div class="spacer"></div>

        <!-- Time display -->
        <div class="label" id="timeDisplay">00:00 / 00:00</div>
      </div>
    </div>
  </div>

  <script>
    // Elements
    const video = document.getElementById('video');
    const toggleBtn = document.getElementById('toggle');
    const progress = document.getElementById('progress');
    const progressFilled = document.getElementById('progressFilled');
    const volumeSlider = document.getElementById('volume');
    const playbackRateSlider = document.getElementById('playbackRate');
    const skipBackBtn = document.getElementById('skipBack');
    const skipFwdBtn = document.getElementById('skipFwd');
    const timeDisplay = document.getElementById('timeDisplay');

    // Helpers
    function togglePlay() {
      if (video.paused || video.ended) {
        video.play();
      } else {
        video.pause();
      }
    }

    function updateToggleIcon() {
      // Show pause icon when playing (to indicate clicking will pause)
      toggleBtn.textContent = video.paused ? '►' : '❚❚';
    }

    function handleProgress() {
      const percent = (video.currentTime / video.duration) * 100 || 0;
      progressFilled.style.width = `${percent}%`;
      updateTimeDisplay();
    }

    function scrub(e) {
      const rect = progress.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const ratio = Math.max(0, Math.min(1, clickX / rect.width));
      video.currentTime = ratio * video.duration;
    }

    function formatTime(seconds) {
      if (isNaN(seconds) || !isFinite(seconds)) return '00:00';
      const m = Math.floor(seconds / 60);
      const s = Math.floor(seconds % 60);
      return `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }

    function updateTimeDisplay() {
      const current = formatTime(video.currentTime);
      const total = formatTime(video.duration);
      timeDisplay.textContent = `${current} / ${total}`;
    }

    // Events
    video.addEventListener('click', togglePlay);
    toggleBtn.addEventListener('click', togglePlay);

    video.addEventListener('play', updateToggleIcon);
    video.addEventListener('pause', updateToggleIcon);
    video.addEventListener('timeupdate', handleProgress);
    video.addEventListener('loadedmetadata', () => {
      handleProgress();
      updateTimeDisplay();
    });

    // Volume and playbackRate
    volumeSlider.addEventListener('input', (e) => {
      video.volume = parseFloat(e.target.value);
    });

    playbackRateSlider.addEventListener('input', (e) => {
      video.playbackRate = parseFloat(e.target.value);
    });

    // Skip buttons
    skipBackBtn.addEventListener('click', () => {
      video.currentTime = Math.max(0, video.currentTime - 10);
    });

    skipFwdBtn.addEventListener('click', () => {
      video.currentTime = Math.min(video.duration || Infinity, video.currentTime + 25);
    });

    // Scrub: click and drag support
    let mousedown = false;
    progress.addEventListener('click', scrub);
    progress.addEventListener('mousedown', () => mousedown = true);
    progress.addEventListener('mouseup', () => mousedown = false);
    progress.addEventListener('mouseleave', () => mousedown = false);
    progress.addEventListener('mousemove', (e) => {
      if (mousedown) scrub(e);
    });

    // Initialize icons & UI to reflect defaults
    updateToggleIcon();
    updateTimeDisplay();
    // set initial volume & playback (UI already sets value)
    video.volume = parseFloat(volumeSlider.value);
    video.playbackRate = parseFloat(playbackRateSlider.value);

    // Safety: prevent skipping/setting time before metadata loaded
    // (our loadedmetadata listener will update display once ready)
  </script>
</body>
</html>
